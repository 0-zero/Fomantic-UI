!function(a,b,c,d){a.fn.sidebar=function(e){var f,g=a(this),h=(a("body"),a("head")),i=g.selector||"",j=(new Date).getTime(),k=[],l=arguments[0],m="string"==typeof l,n=[].slice.call(arguments,1),o=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return g.each(function(){var b,p,q=a.isPlainObject(e)?a.extend(!0,{},a.fn.sidebar.settings,e):a.extend({},a.fn.sidebar.settings),r=q.selector,s=q.className,t=q.namespace,u=q.error,v="."+t,w="module-"+t,x=a(this),y=a("body"),z=a("style[title="+t+"]"),A=a(r.sidebar),B=a(r.page),C=a(r.pusher),D=this,E=x.data(w);p={initialize:function(){p.debug("Initializing sidebar",x),b=p.get.transitionEvent(),p.setup.page(),o(p.setup.layout),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),E=p,x.data(w,p)},destroy:function(){p.verbose("Destroying previous module for",x),x.off(v).removeData(w)},event:{clickaway:function(b){0===x.find(b.target).size()&&0===a(b.target).filter(x).size()&&(p.verbose("User clicked on dimmed page"),a.proxy(p.hide,D)())}},bind:{clickaway:function(){y.on("click"+v,p.event.clickaway)}},unbind:{clickaway:function(){y.off("click"+v)}},refresh:function(){p.verbose("Refreshing selector cache"),z=a("style[title="+t+"]"),A=a(r.sidebar),B=a(r.page),C=a(r.pusher)},setup:{layout:function(){C=a(r.pusher),0===C.size()&&(p.debug("Adding wrapper element for sidebar"),p.verbose("Setting up page structure for sidebar"),C=a('<div class="pusher" />'),B=a('<div class="page" />'),C.append(B),y.children().not(r.omitted).not(A).wrapAll(C)),p.refresh()},page:function(){y.addClass(s.hasSidebar)}},attachEvents:function(b,c){var d=a(b);c=a.isFunction(p[c])?p[c]:p.toggle,d.size()>0?(p.debug("Attaching sidebar events to element",b,c),d.off(v).on("click"+v,c)):p.error(u.notFound)},show:function(b){b=a.isFunction(b)?b:function(){},p.debug("Showing sidebar",b),p.is.closed()?(q.overlay&&(q.animation="overlay"),"overlay"!==q.animation&&p.hideAll(),p.pushPage(function(){a.proxy(b,D)(),a.proxy(q.onShow,D)()}),a.proxy(q.onChange,D)(),a.proxy(q.onVisible,D)()):p.debug("Sidebar is already visible")},hide:function(b){b=a.isFunction(b)?b:function(){},p.debug("Hiding sidebar",b),p.is.visible()&&(p.pullPage(function(){a.proxy(b,D)(),a.proxy(q.onHidden,D)()}),a.proxy(q.onChange,D)(),a.proxy(q.onHide,D)())},hideAll:function(){var a=A.find("."+s.visible);a.sidebar("hide")},toggle:function(){p.is.closed()?p.show():p.hide()},forceRepaint:function(){p.verbose("Forcing element repaint");var a=x.parent(),b=x.next();0===b.size()?x.detach().appendTo(a):x.detach().insertBefore(b)},pushPage:function(c){c=a.isFunction(c)?c:function(){},p.is.inward()||(p.verbose("Adding body push state",p.get.direction()),"overlay"!=q.animation&&p.remove.allVisible(),p.set.direction(),p.set.animation(),p.set.inward(),o(function(){p.set.visible(),o(function(){p.set.pushed()})}),C.off(b).on(b,function(d){a(d.target).is(r.pusher)&&(p.remove.inward(),p.set.active(),C.off(b),p.bind.clickaway(),a.proxy(c,D)())}))},pullPage:function(c){c=a.isFunction(c)?c:function(){},p.is.outward()||(p.verbose("Removing body push state",p.get.direction()),"overlay"==q.animation&&x.removeClass(s.visible),p.unbind.clickaway(),o(function(){p.set.outward(),p.remove.active(),p.remove.pushed(),C.off(b).on(b,function(d){a(d.target).is(r.pusher)&&(p.remove.animation(),p.remove.direction(),p.remove.outward(),p.remove.visible(),C.off(b),a.proxy(c,D)())})}))},add:{bodyCSS:function(a){var b;a!==s.bottom&&(b='<style title="'+t+'">body.pushed {}</style>'),h.append(b),p.debug("Adding body css to head",z)}},set:{active:function(){x.addClass(s.active)},direction:function(a){a=a||p.get.direction(),y.addClass(s[a])},visible:function(){x.addClass(s.visible)},animation:function(a){a=a||q.animation,y.addClass(a)},inward:function(){y.addClass(s.inward)},outward:function(){y.addClass(s.outward)},pushed:function(){y.addClass(s.pushed)}},remove:{bodyCSS:function(){p.debug("Removing body css styles",z),p.refresh(),z.remove()},active:function(){x.removeClass(s.active)},visible:function(){x.removeClass(s.visible)},allVisible:function(){A.hasClass(s.visible)&&A.removeClass(s.visible)},animation:function(a){a=a||q.animation,y.removeClass(a)},pushed:function(){y.removeClass(s.pushed)},inward:function(){y.removeClass(s.inward)},outward:function(){y.removeClass(s.outward)},direction:function(a){a=a||p.get.direction(),y.removeClass(s[a])}},get:{direction:function(){return x.hasClass(s.top)?s.top:x.hasClass(s.right)?s.right:x.hasClass(s.bottom)?s.bottom:s.left},transitionEvent:function(){var a,b=c.createElement("element"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in e)if(b.style[a]!==d)return e[a]}},is:{open:function(){return x.hasClass(s.active)},closed:function(){return!p.is.open()},visible:function(){return x.hasClass(s.visible)},vertical:function(){return x.hasClass(s.top)},inward:function(){return y.hasClass(s.inward)},outward:function(){return y.hasClass(s.outward)},animating:function(){return p.is.inward()||p.is.outward()}},setting:function(b,c){if(p.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,q,b);else{if(c===d)return q[b];q[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,p,b);else{if(c===d)return p[b];p[b]=c}},debug:function(){q.debug&&(q.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,q.name+":"),p.debug.apply(console,arguments)))},verbose:function(){q.verbose&&q.debug&&(q.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,q.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,q.name+":"),p.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;q.performance&&(b=(new Date).getTime(),d=j||b,c=b-d,j=b,k.push({Element:D,Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":c})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,100)},display:function(){var b=q.name+":",c=0;j=!1,clearTimeout(p.performance.timer),a.each(k,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",i&&(b+=" '"+i+"'"),g.size()>1&&(b+=" ("+g.size()+")"),(console.group!==d||console.table!==d)&&k.length>0&&(console.groupCollapsed(b),console.table?console.table(k):a.each(k,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),k=[]}},invoke:function(b,c,e){var g,h,i,j=E;return c=c||n,e=D||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},m?(E===d&&p.initialize(),p.invoke(l)):(E!==d&&p.destroy(),p.initialize())}),f!==d?f:this},a.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!0,verbose:!0,performance:!0,animation:"pushing",useCSS:!0,duration:300,dimPage:!0,exclusive:!0,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{hasSidebar:"pushable",active:"active",visible:"visible",pushed:"pushed",inward:"show",outward:"hide"},selector:{sidebar:"body > .ui.sidebar",pusher:"body > .pusher",page:"body > .pusher > .page",omitted:".ui.modal, .ui.nag"},error:{method:"The method you called is not defined.",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document);